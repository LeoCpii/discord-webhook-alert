name: Notify

on:
  workflow_dispatch:
    inputs:
      webhook:
        description: "Webhook Url"
        required: true
      type:
        description: "type alert"
        required: true
      name:
        description: "Name alert"
        required: false
      avatar:
        description: "Avatar alert"
        required: false
      message:
        description: "Custom Message"
        required: false
      project:
        description: "Project name"
        required: false

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Deployment Succeded
        uses: LeoCpii/discord-webhook-alert@master
        with:
          webhookUrl: ${{ inputs.webhook }}
          type: success

      - name: Deployment Canceled
        uses: LeoCpii/discord-webhook-alert@master
        with:
          webhookUrl: ${{ inputs.webhook }}
          type: warn

      - name: Deployment Error
        uses: LeoCpii/discord-webhook-alert@master
        with:
          webhookUrl: ${{ inputs.webhook }}
          type: error
